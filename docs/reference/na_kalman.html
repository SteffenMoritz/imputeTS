<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Missing Value Imputation by Kalman Smoothing and State Space Models — na_kalman • imputeTS</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Missing Value Imputation by Kalman Smoothing and State Space Models — na_kalman" />
<meta property="og:description" content="Uses Kalman Smoothing on structural time series models
(or on the state space representation of an arima model) for imputation." />
<meta property="og:image" content="https://SteffenMoritz.github.io/imputeTS/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">imputeTS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/gallery_visualizations.html">Gallery: Times Series Missing Data Visualizations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SteffenMoritz/imputeTS/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Missing Value Imputation by Kalman Smoothing and State Space Models</h1>
    <small class="dont-index">Source: <a href='https://github.com/SteffenMoritz/imputeTS/blob/master/R/na_kalman.R'><code>R/na_kalman.R</code></a></small>
    <div class="hidden name"><code>na_kalman.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Uses Kalman Smoothing on structural time series models
(or on the state space representation of an arima model) for imputation.</p>
    </div>

    <pre class="usage"><span class='fu'>na_kalman</span><span class='op'>(</span><span class='va'>x</span>, model <span class='op'>=</span> <span class='st'>"StructTS"</span>, smooth <span class='op'>=</span> <span class='cn'>TRUE</span>, nit <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, maxgap <span class='op'>=</span> <span class='cn'>Inf</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Numeric Vector (<code><a href='https://rdrr.io/r/base/vector.html'>vector</a></code>) or Time Series (<code><a href='https://rdrr.io/r/stats/ts.html'>ts</a></code>)
object in which missing values shall be replaced</p></td>
    </tr>
    <tr>
      <th>model</th>
      <td><p>Model to be used. With this parameter the State Space Model
(on which KalmanSmooth is performed) can be chosen. Accepts the following input:</p>
<ul>
<li><p>"auto.arima" - For using the state space representation of
arima model (using <a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>auto.arima</a>) </p></li>
<li><p>"StructTS" - For using a structural model fitted by maximum
likelihood (using <a href='https://rdrr.io/r/stats/StructTS.html'>StructTS</a>) (default choice) </p></li>
</ul>

<p>For both auto.arima and StructTS additional parameters for model building can
be given with the ... parameter</p>
<p>Additionally it is also possible to use a user created state space model
(See code Example 5). This state space model could for example be
obtained from another R package for structural time series modeling.
Furthermore providing the state space representation of a arima model
from <a href='https://rdrr.io/r/stats/arima.html'>arima</a> is also possible. But it is important to note,
that user created state space models must meet the requirements specified
under <a href='https://rdrr.io/r/stats/KalmanLike.html'>KalmanLike</a>. This means the user supplied state space
model has to be in form of a list with at least components T, Z, h , V, a, P, Pn.
(more details under <a href='https://rdrr.io/r/stats/KalmanLike.html'>KalmanLike</a>)</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>if <code>TRUE</code> - <code><a href='https://rdrr.io/r/stats/KalmanLike.html'>KalmanSmooth</a></code> is used for
estimation, if <code>FALSE</code> - <code><a href='https://rdrr.io/r/stats/KalmanLike.html'>KalmanRun</a></code> is used.
Since KalmanRun is often considered extrapolation KalmanSmooth is usually
the better choice for imputation.</p></td>
    </tr>
    <tr>
      <th>nit</th>
      <td><p>Parameter from Kalman Filtering (see <a href='https://rdrr.io/r/stats/KalmanLike.html'>KalmanLike</a>).
Usually no need to change from default.</p></td>
    </tr>
    <tr>
      <th>maxgap</th>
      <td><p>Maximum number of successive NAs to still perform imputation on.
Default setting is to replace all NAs without restrictions. With this
option set, consecutive NAs runs, that are longer than 'maxgap' will
be left NA. This option mostly makes sense if you want to
treat long runs of NA afterwards separately.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional parameters to be passed through to the functions that
build the State Space Models (<a href='https://rdrr.io/r/stats/StructTS.html'>StructTS</a> or <a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>auto.arima</a>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Vector (<code><a href='https://rdrr.io/r/base/vector.html'>vector</a></code>) or Time Series (<code><a href='https://rdrr.io/r/stats/ts.html'>ts</a></code>)
object (dependent on given input at parameter x)</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The KalmanSmoother used in this function is <code><a href='https://rdrr.io/r/stats/KalmanLike.html'>KalmanSmooth</a></code>.
It operates either on a <code>Basic Structural Model</code> obtained by
<code><a href='https://rdrr.io/r/stats/StructTS.html'>StructTS</a></code> or the state space representation of a ARMA model
obtained by <code><a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>auto.arima</a></code>.</p>
<p>For an detailed explanation of Kalman Filtering and Space Space Models the
following literature is a good starting point:</p><ul>
<li><p><cite>G. Welch, G. Bishop, An Introduction to the Kalman Filter. SIGGRAPH 2001 Course 8, 1995</cite></p></li>
<li><p><cite>Harvey, Andrew C. Forecasting, structural time series models and the Kalman filter. Cambridge university press, 1990</cite></p></li>
<li><p><cite>Grewal, Mohinder S. Kalman filtering. Springer Berlin Heidelberg, 2011</cite></p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Hyndman RJ and Khandakar Y (2008). "Automatic time series forecasting: the forecast package for R". Journal of Statistical Software, 26(3).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='na_interpolation.html'>na_interpolation</a></code>,
<code><a href='na_locf.html'>na_locf</a></code>,
<code><a href='na_ma.html'>na_ma</a></code>, <code><a href='na_mean.html'>na_mean</a></code>,
<code><a href='na_random.html'>na_random</a></code>, <code><a href='na_replace.html'>na_replace</a></code>,
<code><a href='na_seadec.html'>na_seadec</a></code>, <code><a href='na_seasplit.html'>na_seasplit</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Steffen Moritz</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Example 1: Perform imputation with KalmanSmoother and state space representation of arima model</span>
<span class='fu'>na_kalman</span><span class='op'>(</span><span class='va'>tsAirgap</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
#&gt; 1949 112.0000 118.0000 132.0000 129.0000 123.5734 135.0000 148.0000 148.0000
#&gt; 1950 115.0000 126.0000 141.0000 135.0000 125.0000 149.0000 170.0000 170.0000
#&gt; 1951 145.0000 150.0000 178.0000 163.0000 172.0000 178.0000 199.0000 199.0000
#&gt; 1952 171.0000 180.0000 193.0000 181.0000 183.0000 218.0000 230.0000 242.0000
#&gt; 1953 196.0000 196.0000 236.0000 235.0000 229.0000 243.0000 264.0000 272.0000
#&gt; 1954 204.0000 188.0000 235.0000 227.0000 234.0000 260.8078 302.0000 293.0000
#&gt; 1955 242.0000 233.0000 267.0000 269.0000 270.0000 315.0000 364.0000 347.0000
#&gt; 1956 284.0000 277.0000 312.6060 311.6160 311.0830 374.0000 413.0000 405.0000
#&gt; 1957 315.0000 301.0000 356.0000 348.0000 355.0000 414.6160 465.0000 467.0000
#&gt; 1958 340.0000 318.0000 382.6912 348.0000 363.0000 435.0000 491.0000 505.0000
#&gt; 1959 360.0000 342.0000 406.0000 396.0000 420.0000 472.0000 548.0000 559.0000
#&gt; 1960 417.0000 391.0000 419.0000 461.0000 452.5683 535.0000 622.0000 606.0000
#&gt;           Sep      Oct      Nov      Dec
#&gt; 1949 132.7833 119.0000 104.0000 118.0000
#&gt; 1950 157.1427 133.0000 130.8971 140.0000
#&gt; 1951 184.0000 162.0000 146.0000 166.0000
#&gt; 1952 209.0000 191.0000 172.0000 194.0000
#&gt; 1953 237.0000 211.0000 180.0000 201.0000
#&gt; 1954 259.0000 229.0000 203.0000 229.0000
#&gt; 1955 312.0000 274.0000 237.0000 278.0000
#&gt; 1956 355.0000 306.0000 271.0000 306.0000
#&gt; 1957 404.0000 347.0000 298.6147 336.0000
#&gt; 1958 404.0000 359.0000 310.0000 337.0000
#&gt; 1959 463.0000 407.0000 362.0000 390.9089
#&gt; 1960 508.0000 461.0000 390.0000 432.0000</div><div class='input'>
<span class='co'># Example 2: Perform imputation with KalmanRun and state space representation of arima model</span>
<span class='fu'>na_kalman</span><span class='op'>(</span><span class='va'>tsAirgap</span>, smooth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
#&gt; 1949 112.0000 118.0000 132.0000 129.0000 123.9264 135.0000 148.0000 148.0000
#&gt; 1950 115.0000 126.0000 141.0000 135.0000 125.0000 149.0000 170.0000 170.0000
#&gt; 1951 145.0000 150.0000 178.0000 163.0000 172.0000 178.0000 199.0000 199.0000
#&gt; 1952 171.0000 180.0000 193.0000 181.0000 183.0000 218.0000 230.0000 242.0000
#&gt; 1953 196.0000 196.0000 236.0000 235.0000 229.0000 243.0000 264.0000 272.0000
#&gt; 1954 204.0000 188.0000 235.0000 227.0000 234.0000 232.6461 302.0000 293.0000
#&gt; 1955 242.0000 233.0000 267.0000 269.0000 270.0000 315.0000 364.0000 347.0000
#&gt; 1956 284.0000 277.0000 304.4782 302.5073 298.1029 374.0000 413.0000 405.0000
#&gt; 1957 315.0000 301.0000 356.0000 348.0000 355.0000 385.8343 465.0000 467.0000
#&gt; 1958 340.0000 318.0000 392.3223 348.0000 363.0000 435.0000 491.0000 505.0000
#&gt; 1959 360.0000 342.0000 406.0000 396.0000 420.0000 472.0000 548.0000 559.0000
#&gt; 1960 417.0000 391.0000 419.0000 461.0000 442.0008 535.0000 622.0000 606.0000
#&gt;           Sep      Oct      Nov      Dec
#&gt; 1949 141.5691 119.0000 104.0000 118.0000
#&gt; 1950 139.5378 133.0000 141.7595 140.0000
#&gt; 1951 184.0000 162.0000 146.0000 166.0000
#&gt; 1952 209.0000 191.0000 172.0000 194.0000
#&gt; 1953 237.0000 211.0000 180.0000 201.0000
#&gt; 1954 259.0000 229.0000 203.0000 229.0000
#&gt; 1955 312.0000 274.0000 237.0000 278.0000
#&gt; 1956 355.0000 306.0000 271.0000 306.0000
#&gt; 1957 404.0000 347.0000 327.9040 336.0000
#&gt; 1958 404.0000 359.0000 310.0000 337.0000
#&gt; 1959 463.0000 407.0000 362.0000 400.7839
#&gt; 1960 508.0000 461.0000 390.0000 432.0000</div><div class='input'>
<span class='co'># Example 3: Perform imputation with KalmanSmooth and StructTS model</span>
<span class='fu'>na_kalman</span><span class='op'>(</span><span class='va'>tsAirgap</span>, model <span class='op'>=</span> <span class='st'>"StructTS"</span>, smooth <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
#&gt; 1949 112.0000 118.0000 132.0000 129.0000 123.5734 135.0000 148.0000 148.0000
#&gt; 1950 115.0000 126.0000 141.0000 135.0000 125.0000 149.0000 170.0000 170.0000
#&gt; 1951 145.0000 150.0000 178.0000 163.0000 172.0000 178.0000 199.0000 199.0000
#&gt; 1952 171.0000 180.0000 193.0000 181.0000 183.0000 218.0000 230.0000 242.0000
#&gt; 1953 196.0000 196.0000 236.0000 235.0000 229.0000 243.0000 264.0000 272.0000
#&gt; 1954 204.0000 188.0000 235.0000 227.0000 234.0000 260.8078 302.0000 293.0000
#&gt; 1955 242.0000 233.0000 267.0000 269.0000 270.0000 315.0000 364.0000 347.0000
#&gt; 1956 284.0000 277.0000 312.6060 311.6160 311.0830 374.0000 413.0000 405.0000
#&gt; 1957 315.0000 301.0000 356.0000 348.0000 355.0000 414.6160 465.0000 467.0000
#&gt; 1958 340.0000 318.0000 382.6912 348.0000 363.0000 435.0000 491.0000 505.0000
#&gt; 1959 360.0000 342.0000 406.0000 396.0000 420.0000 472.0000 548.0000 559.0000
#&gt; 1960 417.0000 391.0000 419.0000 461.0000 452.5683 535.0000 622.0000 606.0000
#&gt;           Sep      Oct      Nov      Dec
#&gt; 1949 132.7833 119.0000 104.0000 118.0000
#&gt; 1950 157.1427 133.0000 130.8971 140.0000
#&gt; 1951 184.0000 162.0000 146.0000 166.0000
#&gt; 1952 209.0000 191.0000 172.0000 194.0000
#&gt; 1953 237.0000 211.0000 180.0000 201.0000
#&gt; 1954 259.0000 229.0000 203.0000 229.0000
#&gt; 1955 312.0000 274.0000 237.0000 278.0000
#&gt; 1956 355.0000 306.0000 271.0000 306.0000
#&gt; 1957 404.0000 347.0000 298.6147 336.0000
#&gt; 1958 404.0000 359.0000 310.0000 337.0000
#&gt; 1959 463.0000 407.0000 362.0000 390.9089
#&gt; 1960 508.0000 461.0000 390.0000 432.0000</div><div class='input'>
<span class='co'># Example 4: Perform imputation with KalmanSmooth and StructTS model with additional parameters</span>
<span class='fu'>na_kalman</span><span class='op'>(</span><span class='va'>tsAirgap</span>, model <span class='op'>=</span> <span class='st'>"StructTS"</span>, smooth <span class='op'>=</span> <span class='cn'>TRUE</span>, type <span class='op'>=</span> <span class='st'>"trend"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;         Jan    Feb    Mar    Apr    May    Jun    Jul    Aug    Sep    Oct
#&gt; 1949 112.00 118.00 132.00 129.00 132.00 135.00 148.00 148.00 133.50 119.00
#&gt; 1950 115.00 126.00 141.00 135.00 125.00 149.00 170.00 170.00 151.50 133.00
#&gt; 1951 145.00 150.00 178.00 163.00 172.00 178.00 199.00 199.00 184.00 162.00
#&gt; 1952 171.00 180.00 193.00 181.00 183.00 218.00 230.00 242.00 209.00 191.00
#&gt; 1953 196.00 196.00 236.00 235.00 229.00 243.00 264.00 272.00 237.00 211.00
#&gt; 1954 204.00 188.00 235.00 227.00 234.00 268.00 302.00 293.00 259.00 229.00
#&gt; 1955 242.00 233.00 267.00 269.00 270.00 315.00 364.00 347.00 312.00 274.00
#&gt; 1956 284.00 277.00 301.25 325.50 349.75 374.00 413.00 405.00 355.00 306.00
#&gt; 1957 315.00 301.00 356.00 348.00 355.00 410.00 465.00 467.00 404.00 347.00
#&gt; 1958 340.00 318.00 333.00 348.00 363.00 435.00 491.00 505.00 404.00 359.00
#&gt; 1959 360.00 342.00 406.00 396.00 420.00 472.00 548.00 559.00 463.00 407.00
#&gt; 1960 417.00 391.00 419.00 461.00 498.00 535.00 622.00 606.00 508.00 461.00
#&gt;         Nov    Dec
#&gt; 1949 104.00 118.00
#&gt; 1950 136.50 140.00
#&gt; 1951 146.00 166.00
#&gt; 1952 172.00 194.00
#&gt; 1953 180.00 201.00
#&gt; 1954 203.00 229.00
#&gt; 1955 237.00 278.00
#&gt; 1956 271.00 306.00
#&gt; 1957 341.50 336.00
#&gt; 1958 310.00 337.00
#&gt; 1959 362.00 389.50
#&gt; 1960 390.00 432.00</div><div class='input'>
<span class='co'># Example 5:  Perform imputation with KalmanSmooth and user created model</span>
<span class='va'>usermodel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/arima.html'>arima</a></span><span class='op'>(</span><span class='va'>tsAirgap</span>, order <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>$</span><span class='va'>model</span>
<span class='fu'>na_kalman</span><span class='op'>(</span><span class='va'>tsAirgap</span>, model <span class='op'>=</span> <span class='va'>usermodel</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
#&gt; 1949 112.0000 118.0000 132.0000 129.0000 128.9291 135.0000 148.0000 148.0000
#&gt; 1950 115.0000 126.0000 141.0000 135.0000 125.0000 149.0000 170.0000 170.0000
#&gt; 1951 145.0000 150.0000 178.0000 163.0000 172.0000 178.0000 199.0000 199.0000
#&gt; 1952 171.0000 180.0000 193.0000 181.0000 183.0000 218.0000 230.0000 242.0000
#&gt; 1953 196.0000 196.0000 236.0000 235.0000 229.0000 243.0000 264.0000 272.0000
#&gt; 1954 204.0000 188.0000 235.0000 227.0000 234.0000 270.8450 302.0000 293.0000
#&gt; 1955 242.0000 233.0000 267.0000 269.0000 270.0000 315.0000 364.0000 347.0000
#&gt; 1956 284.0000 277.0000 292.8668 316.5817 341.4769 374.0000 413.0000 405.0000
#&gt; 1957 315.0000 301.0000 356.0000 348.0000 355.0000 409.7449 465.0000 467.0000
#&gt; 1958 340.0000 318.0000 329.7566 348.0000 363.0000 435.0000 491.0000 505.0000
#&gt; 1959 360.0000 342.0000 406.0000 396.0000 420.0000 472.0000 548.0000 559.0000
#&gt; 1960 417.0000 391.0000 419.0000 461.0000 487.7672 535.0000 622.0000 606.0000
#&gt;           Sep      Oct      Nov      Dec
#&gt; 1949 136.5832 119.0000 104.0000 118.0000
#&gt; 1950 150.9669 133.0000 132.7634 140.0000
#&gt; 1951 184.0000 162.0000 146.0000 166.0000
#&gt; 1952 209.0000 191.0000 172.0000 194.0000
#&gt; 1953 237.0000 211.0000 180.0000 201.0000
#&gt; 1954 259.0000 229.0000 203.0000 229.0000
#&gt; 1955 312.0000 274.0000 237.0000 278.0000
#&gt; 1956 355.0000 306.0000 271.0000 306.0000
#&gt; 1957 404.0000 347.0000 332.3090 336.0000
#&gt; 1958 404.0000 359.0000 310.0000 337.0000
#&gt; 1959 463.0000 407.0000 362.0000 388.2858
#&gt; 1960 508.0000 461.0000 390.0000 432.0000</div><div class='input'>
<span class='co'># Example 6: Same as example 1, just written with pipe operator</span>
<span class='va'>tsAirgap</span> <span class='op'>%&gt;%</span> <span class='fu'>na_kalman</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
#&gt; 1949 112.0000 118.0000 132.0000 129.0000 123.5734 135.0000 148.0000 148.0000
#&gt; 1950 115.0000 126.0000 141.0000 135.0000 125.0000 149.0000 170.0000 170.0000
#&gt; 1951 145.0000 150.0000 178.0000 163.0000 172.0000 178.0000 199.0000 199.0000
#&gt; 1952 171.0000 180.0000 193.0000 181.0000 183.0000 218.0000 230.0000 242.0000
#&gt; 1953 196.0000 196.0000 236.0000 235.0000 229.0000 243.0000 264.0000 272.0000
#&gt; 1954 204.0000 188.0000 235.0000 227.0000 234.0000 260.8078 302.0000 293.0000
#&gt; 1955 242.0000 233.0000 267.0000 269.0000 270.0000 315.0000 364.0000 347.0000
#&gt; 1956 284.0000 277.0000 312.6060 311.6160 311.0830 374.0000 413.0000 405.0000
#&gt; 1957 315.0000 301.0000 356.0000 348.0000 355.0000 414.6160 465.0000 467.0000
#&gt; 1958 340.0000 318.0000 382.6912 348.0000 363.0000 435.0000 491.0000 505.0000
#&gt; 1959 360.0000 342.0000 406.0000 396.0000 420.0000 472.0000 548.0000 559.0000
#&gt; 1960 417.0000 391.0000 419.0000 461.0000 452.5683 535.0000 622.0000 606.0000
#&gt;           Sep      Oct      Nov      Dec
#&gt; 1949 132.7833 119.0000 104.0000 118.0000
#&gt; 1950 157.1427 133.0000 130.8971 140.0000
#&gt; 1951 184.0000 162.0000 146.0000 166.0000
#&gt; 1952 209.0000 191.0000 172.0000 194.0000
#&gt; 1953 237.0000 211.0000 180.0000 201.0000
#&gt; 1954 259.0000 229.0000 203.0000 229.0000
#&gt; 1955 312.0000 274.0000 237.0000 278.0000
#&gt; 1956 355.0000 306.0000 271.0000 306.0000
#&gt; 1957 404.0000 347.0000 298.6147 336.0000
#&gt; 1958 404.0000 359.0000 310.0000 337.0000
#&gt; 1959 463.0000 407.0000 362.0000 390.9089
#&gt; 1960 508.0000 461.0000 390.0000 432.0000</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steffen Moritz, Sebastian Gatscha.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


